var menuscroll,thb_lazyload,skroller;!function(a,b,c){"use strict";var d=a(document),e=a(b),f=a(f),g=new MobileDetect(b.navigator.userAgent),h={init:function(){var b,c=this;for(b in c)if(c.hasOwnProperty(b)){var d=c[b];void 0!==d.selector&&void 0!==d.init&&a(d.selector).length>0&&d.init()}navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1&&a("html").addClass("safari")},fixedHeader:{selector:".subheader.fixed",init:function(){var b=this,d=a(b.selector);e.scroll(function(){b.scroll(d)});var f=c.debounce(function(){var b=a("#menu_width");d.find(".thb_mega_menu_holder").css({width:b.outerWidth(),left:b.offset().left,right:b.offset().right})},30);e.resize(f).trigger("resize")},scroll:function(a){var b=400,c=e.scrollTop(),d="header--slide",f="header--unslide",g=a.find(".quick_search");c>b?(a.hasClass(f)&&a.removeClass(f),a.hasClass(d)||setTimeout(function(){a.addClass(d)},10)):c<b&&c>0?a.hasClass(d)&&(a.removeClass(d),a.addClass(f),g.removeClass("active")):(a.removeClass(d),a.removeClass(f),g.removeClass("active"))}},search:{selector:".quick_toggle",init:function(){var b=this,c=a(b.selector);c.each(function(b){var c=a(this),d=c.parents(".quick_search");c.on("click",function(a){return d.toggleClass("active"),!1})})}},responsiveNav:{selector:"#wrapper",init:function(){var c=this,d=a(c.selector),e=a(".click-capture"),f=(a(".mobile-toggle").data("target"),a("#mobile-menu").find('.mobile-menu li:has(".sub-menu")>a span'));a(".mobile-toggle").on("click",function(){var b=a(this),c=b.data("target");return d.removeClass("open-menu").addClass(c),!1}),e.on("click",function(){d.removeClass("open-menu")}),f.on("click",function(c){var d=a(this),e=d.parents("a"),f=e.next(".sub-menu");e.hasClass("active")?(e.removeClass("active"),f.slideUp("200",function(){setTimeout(function(){b.menuscroll.refresh()},10)})):(e.addClass("active"),f.slideDown("200",function(){setTimeout(function(){b.menuscroll.refresh()},10)})),c.stopPropagation(),c.preventDefault()})}},categoryMenu:{selector:".sf-menu:not(.secondary)",init:function(){var c=this,d=a(c.selector),e=d.find(".menu-item-has-children");e.each(function(){var c=a(this),d=c.find(">.sub-menu,>.thb_mega_menu_holder"),e=c.find(".thb_mega_menu li"),f=c.find(".category-children>.row");e.first().addClass("active"),c.hoverIntent(function(){TweenLite.to(d,.5,{autoAlpha:1,ease:Quart.easeOut,onStart:function(){d.css("display","block")},onComplete:function(){h.circle_perc.control(),b.thb_lazyload.update()}})},function(){TweenLite.to(d,.5,{autoAlpha:0,ease:Quart.easeOut,onComplete:function(){d.css("display","none")}})}),e.mouseover(function(){var c=a(this),d=c.index();e.removeClass("active"),c.addClass("active"),f.hide(),f.filter(":nth-child("+(d+1)+")").show(),h.circle_perc.control(),b.thb_lazyload.update()})})}},secondaryMenu:{selector:".secondary-holder",init:function(){var b=this,c=a(b.selector),d=c.find(".sf-menu"),e=-1;a(">li",d).each(function(){e=e>a(this).outerWidth()?e:a(this).outerWidth()}),d.css({display:"none",width:2*e+70}),c.hoverIntent(function(){TweenLite.to(d,.5,{autoAlpha:1,ease:Quart.easeOut,onStart:function(){d.css("display","flex")}})},function(){TweenLite.to(d,.5,{autoAlpha:0,ease:Quart.easeOut,onComplete:function(){d.css("display","none")}})})}},magnificSingle:{selector:'[rel="magnific"]',init:function(){var b=this,c=a(b.selector);c.each(function(){a(this).magnificPopup({type:"image",closeOnContentClick:!0,fixedContentPos:!0,closeBtnInside:!1,mainClass:"mfp",removalDelay:250,overflowY:"scroll",image:{verticalFit:!1,titleSrc:function(a){return a.el.attr("title")}}})})}},magnificImage:{selector:".thb-lightbox-on .blog-post",init:function(){var b=this,c=a(b.selector);c.each(function(){a(this).magnificPopup({delegate:'[rel="mfp"]',type:"image",closeOnContentClick:!0,fixedContentPos:!0,mainClass:"mfp",removalDelay:250,closeBtnInside:!1,overflowY:"scroll",gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1]},image:{verticalFit:!1,titleSrc:function(a){return a.el.attr("title")}}})})}},carousel:{selector:".slick",init:function(c){var d=this,e=c?c:a(d.selector);e.each(function(){var c=a(this),d=c.data("columns"),e=c.data("navigation")===!0,g=c.data("autoplay")!==!1,i=c.data("pagination")===!0,j=c.data("speed")?c.data("speed"):1e3,k=!!c.data("center")&&c.data("center"),l=!!c.data("disablepadding")&&c.data("disablepadding"),m=!!c.data("vertical")&&c.data("vertical"),n=c.data("fade")===!0,o=c.data("asnavfor"),p=f.hasClass("rtl"),q={dots:i,arrows:e,infinite:!0,speed:j,centerMode:k,slidesToShow:d,slidesToScroll:1,rtl:p,autoplay:g,centerPadding:l?0:"50px",autoplaySpeed:6e3,pauseOnHover:!0,focusOnSelect:!0,adaptiveHeight:!0,vertical:m,verticalSwiping:m,accessibility:!1,fade:n,cssEase:"ease-in-out",prevArrow:'<button type="button" class="slick-nav slick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="slick-nav slick-next"><i class="fa fa-angle-right"></i></button>',responsive:[{breakpoint:1025,settings:{slidesToShow:d<3?d:m?d-1:3,centerPadding:l?0:"40px"}},{breakpoint:780,settings:{slidesToShow:d<2?d:m?d-1:2,centerPadding:l?0:"30px"}},{breakpoint:640,settings:{slidesToShow:d<2?d:m?d-1:1,centerPadding:l?0:"15px"}}]};o&&a(o).is(":visible")&&(q.asNavFor=o),(c.hasClass("product-images")||c.data("fade"))&&(q.fade=!0),c.hasClass("carousel-slider")&&(q.responsive=[{breakpoint:1025,settings:{slidesToShow:d<3?d:m?d-1:3}},{breakpoint:780,settings:{slidesToShow:d<2?d:m?d-1:2}},{breakpoint:640,settings:{slidesToShow:d<2?d:m?d-1:1}}]),c.on("afterChange",function(a,c,d,e){h.circle_perc.control(),b.thb_lazyload.update()}),c.waitForImages(function(){c.slick(q)}),c.parents(".vc_tta-container").length&&a(document).on("click.vc.tabs.data-api",function(){c.slick("refresh")})})}},postGrid:{selector:"[data-loadmore]",init:function(){var c=this,d=a(c.selector);d.each(function(){var c=a(this),d=a(c.data("loadmore")),e=d.text(),f=d.data("loading"),g=d.data("nomore"),h=d.data("count"),i=(d.data("offset"),d.data("page")),j=d.data("style"),k=d.data("columns"),l=d.data("excerpts");d.length>0&&d.on("click",function(){return d.text(f),a.post(themeajax.url,{action:"thb_posts",count:h,style:j,excerpts:l,page:i++,columns:k},function(f){var i=a.parseHTML(a.trim(f)),j=i?i.length:0;""===f||"undefined"===f||"No More Posts"===f||"No $args array created"===f?(f="",d.text(g).removeClass("loading").off("click")):(a(i).appendTo(c).hide(),a(i).show(),b.thb_lazyload.update(),TweenMax.set(a(i),{opacity:0,y:20}),TweenMax.staggerTo(a(i),.25,{y:0,opacity:1,ease:Quart.easeOut},.15),j<h?d.text(g).removeClass("loading"):d.text(e).removeClass("loading"))}),!1})})}},galleryArrows:{selector:".blog-post.format-gallery",init:function(b){var c=this,e=b?b:a(c.selector);d.on("keyup",function(a){37===a.keyCode&&e.find(".slick-prev",".gallery-pagination").length&&e.find(".slick-prev",".gallery-pagination")[0].click(),39===a.keyCode&&e.find(".slick-next",".gallery-pagination").length&&e.find(".slick-next",".gallery-pagination")[0].click()})}},articleScroll:{selector:"#infinite-article",org_post_url:b.location.href,org_post_title:document.title,init:function(){var g=this,i=a(g.selector),j=i.data("infinite"),k=i.find(".blog-post:first-child"),l=k.data("id"),m=l,n=!1,o=a("#footer").outerHeight()+a("#subfooter").outerHeight(),p=c.debounce(function(){g.location_change()},10),q=c.debounce(function(){e.scrollTop()>=d.height()-e.height()-o-200&&n===!1&&(i.addClass("thb-loading"),l===m&&a.ajax(themeajax.url,{method:"POST",data:{action:"thb_infinite_ajax",post_id:m},beforeSend:function(){l=null,n=!0},success:function(c){n=!1;var e=a.parseHTML(c),g=a(e).find(".adsbygoogle, .adworx_ad"),j=a(e).find(".twitter-tweet, .twitter-timeline"),k=a(e).find(".instagram-media");if(i.removeClass("thb-loading"),e){var o=a(e).find(".blog-post");if(l=o.data("id"),m=l,a(e).appendTo(i),h.circle_perc.init(),h.carousel.init(a(e).find(".slick")),h.fixedPosition.init(a(e).find(".fixed-me")),h.magnificImage.init(),h.parallax_bg.init(),h.topReviews.init(),h.shareArticleDetail.init(),h.animation.init(),b.thb_lazyload.update(),"undefined"!=typeof b.instgrm)b.instgrm.Embeds.process();else if(k.length&&"undefined"==typeof b.instgrm){var p=document.createElement("script");p.src="//platform.instagram.com/en_US/embeds.js",p.onload=function(){b.instgrm.Embeds.process()},f.append(p)}"undefined"!=typeof b.twttr?twttr.widgets.load(document.getElementById("infinite-article")):j.length&&"undefined"==typeof b.twttr&&(b.twttr=function(a,c,d){var e,f=a.getElementsByTagName(c)[0],g=b.twttr||{};return a.getElementById(d)?g:(e=a.createElement(c),e.id=d,e.src="https://platform.twitter.com/widgets.js",f.parentNode.insertBefore(e,f),g._e=[],g.ready=function(a){g._e.push(a)},g)}(document,"script","twitter-wjs")),o.hasClass("format-gallery")&&(d.off("keyup"),h.galleryArrows.init(o)),"undefined"!=typeof b.googletag&&googletag.pubads().refresh(),"undefined"!=typeof b.addthis&&addthis.toolbox(),"undefined"!=typeof b.atnt&&b.atnt(),"undefined"!=typeof b.adsbygoogle&&g.length&&g.each(function(){(adsbygoogle=b.adsbygoogle||[]).push({})}),"undefined"!=typeof FB&&FB.init({status:!0,cookie:!0,xfbml:!0}),a(document.body).trigger("thb_after_infinite_load")}else l=null}}))},100);"on"===j?(e.scroll(p),e.scroll(q)):e.scroll(c.debounce(function(){g.borderWidth(a(".post-detail-row").offset().top,a(".post-detail-row").outerHeight(!0))},10))},location_change:function(){var b,c,d=this,f=(a(d.selector),e.scrollTop()),g=f+e.height(),h=[];if(a(".post-detail-row").each(function(){var b=a(this),c=b.find(".blog-post"),d=c.data("id"),e=b.offset().top-(a(".subheader.fixed").outerHeight()+a("#wpadminbar").outerHeight()),i=b.outerHeight(!0),j=0,k=c.data("url"),l=b.find(".post-title h1").text();j=e+i,e<f&&j>g?h.push({id:d,top:e,bottom:j,post_url:k,post_title:l,alength:i}):e>f&&e<g?h.push({id:d,top:e,bottom:j,post_url:k,post_title:l,alength:i}):j>f&&j<g&&h.push({id:d,top:e,bottom:j,post_url:k,post_title:l,alength:i})}),0===h.length)c=d.org_post_url,b=d.org_post_title;else if(1===h.length){var i=h.pop();c=i.post_url,b=i.post_title,d.borderWidth(i.top,i.alength)}else c=h[0].post_url,b=h[0].post_title,d.borderWidth(h[0].top,h[0].alength);c===d.org_post_url?a(".subheader.fixed").find(".share-article-vertical").fadeIn():a(".subheader.fixed").find(".share-article-vertical").fadeOut(),d.updateURL(c,b)},updateURL:function(c,d){b.location.href!==c&&(""!==c&&(history.replaceState(null,null,c),document.title=d,a("#page-title").html(d)),this.updateGA(c))},updateGA:function(a){if("undefined"!=typeof _gaq)_gaq.push(["_trackPageview",a]);else if("undefined"!=typeof ga){var b=/.+?\:\/\/.+?(\/.+?)(?:#|\?|$)/,c=b.exec(a)[1];ga("send","pageview",c)}},borderWidth:function(b,c){var d=e.scrollTop(),f=(d-b)/c;a(".progress",".subheader.fixed").css({width:parseInt(100*f,10)+"%"})}},postGridAjaxify:{selector:".ajaxify-pagination",init:function(){var d=this,e=a(d.selector),f=e;f.data("initialized",!0);var g=b.History,i=b.document;if(!g.enabled)return!1;var j=(f.get(0),a(i.body)),k=g.getRootUrl();0===f.length&&(f=j);var l=function(a){var b=String(a).replace(/<\!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|script)([\s\>])/gi,'<div id="document-$1"$2').replace(/<\/(html|head|body|title|script)\>/gi,"</div>");return b};a.fn.ajaxify=c.debounce(function(){var b=a(this);return b.find(".page-numbers").on("click",function(b){var c=a(this),d=c.attr("href"),e=c.attr("title")||null;return!(2!==b.which&&!b.metaKey)||(g.pushState(null,e,d),b.preventDefault(),!1)}),b},50),f.ajaxify(),a(b).bind("statechange",function(){var c=g.getState(),e=c.url,j=e.replace(k,""),m=a("#wpadminbar"),n=m?m.outerHeight():0;f.addClass("thb-loading"),jQuery("html, body").animate({scrollTop:f.offset().top-n-30},800),a.ajax({url:e,success:function(c,g,k){var m=a(l(c)),n=m.find(d.selector),o=n.html()||m.html();return o?(f.stop(!0,!0),f.html(o).ajaxify().animate({opacity:1},500,"linear",function(){f.removeClass("thb-loading"),h.circle_perc.control(),b.thb_lazyload.update()}),i.title=m.find("#document-title:first").text(),"undefined"!=typeof b.pageTracker&&b.pageTracker._trackPageview(j),void("undefined"!=typeof b.reinvigorate&&"undefined"!=typeof b.reinvigorate.ajax_track&&reinvigorate.ajax_track(e))):(i.location.href=e,!1)},error:function(a,b,c){return i.location.href=e,!1}})})}},circle_perc:{selector:".circle_perc",init:function(){var b=this,c=a(b.selector);b.control(c),e.scroll(function(){b.control(c)})},control:function(b){var c=-1,d=b?b:a(this.selector);d.filter(":in-viewport").each(function(){var b=a(this),d=b.data("dashoffset");c++,setTimeout(function(){TweenLite.to(b,1,{attr:{"stroke-dashoffset":d}})},200*c)})}},topReviews:{selector:".widget_topreviews .progress, .post-review .progress span",init:function(){var b=this,c=a(b.selector);b.control(c),e.scroll(function(){b.control(c)})},control:function(b){var c=-1;b.filter(":in-viewport").each(function(){var b=a(this),d=b.data("width");c++,setTimeout(function(){TweenLite.to(b,1,{width:d+"%"})},200*c)})}},comments:{selector:"#comment-toggle",init:function(){var b=this,c=a(b.selector);c.on("click",function(){return a(this).toggleClass("active"),a(this).next(".comment-content-container").slideToggle(),!1})}},videoPlaylist:{selector:".video_playlist",init:function(){var b=this,c=a(b.selector);c.each(function(){var b=a(this),d=b.find(".video-side");b.find(".video_play");c.on("click",".video_play",function(){var c=a(this),e=c.data("video-url"),f=c.data("post-id");return!c.hasClass("video-active")&&(b.find(".video_play").removeClass("video-active"),b.find('.video_play[data-video-url="'+e+'"]').addClass("video-active"),d.addClass("thb-loading"),a.post(themeajax.url,{action:"thb-parse-embed",post_ID:f,shortcode:"[embed]"+e+"[/embed]"},function(a){a.success&&d.html(a.data.body),d.removeClass("thb-loading")}),!1)})})}},postListing:{selector:".thb_listing",init:function(){var c=this,d=a(c.selector);d.each(function(){var c=a(this),d=c.data("type"),e=c.data("count"),f=c.find("a"),g=c.parents("strong").next("ul"),h=new TimelineMax;f.on("click",function(){var c=a(this),i=c.data("time"),j=g.find("li,p");j.length;return g.addClass("thb-loading"),a.post(themeajax.url,{action:"thb_listing",count:e,type:d,time:i},function(d){var e=a.parseHTML(a.trim(d));e.length;TweenLite.set(e,{x:30,opacity:0}),f.removeClass("active"),c.addClass("active"),h.staggerTo(j,1,{x:-30,opacity:0,onStart:function(){g.removeClass("thb-loading")},onComplete:function(){g.html(e),b.thb_lazyload.update()}},.1).staggerTo(e,1,{x:0,opacity:1},.1)}),!1})})}},shareArticleDetail:{selector:".share-article, .share-article-vertical",init:function(){var c=this,d=a(c.selector),e=d.find(".social:not(.whatsapp)");e.on("click",function(){var c=screen.width/2-320,d=screen.height/2-220-100;return b.open(a(this).attr("href"),"mywin","left="+c+",top="+d+",width=640,height=440,toolbar=0"),!1})}},custom_scroll:{selector:".custom_scroll",init:function(){var c=this,d=a(c.selector);d.each(function(){var c=a(this),d=c.attr("id"),e={scrollbars:!0,mouseWheel:!0,click:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0},f=new IScroll("#"+d,e);"menu-scroll"===c.attr("id")&&(b.menuscroll=f),c.on("touchmove",function(a){a.preventDefault()})})}},categoryDropdown:{selector:".thb-sibling-categories",init:function(){var b=this,c=a(b.selector);c.each(function(){var c=a(this),d=c.find("li:not(.thb-pull-down)"),e=c.find("li.thb-pull-down"),f=c.find(".thb-pull-down .sub-menu"),g=[];e.find(">a").on("click",function(){return!1}),d.each(function(){g.push({el:a(this),width:a(this).outerWidth(!0),added:!1})}),d.remove(),b.start(c,g,f,e)})},start:function(a,b,d,f){function g(){for(var b=a.outerWidth(),e=f.outerWidth(!0)+15,g=c.filter(h,{added:!1}),i=c.filter(h,{added:!0}),j=0;j<g.length;j++)e+=g[j].width;e>=b?c.last(g)&&(c.last(g).added=!0):(!c.first(i)||c.first(i).width+e<b)&&c.first(i)&&(c.first(i).added=!1);for(var k=0;k<g.length;k++)g[k].el.insertBefore(f);for(var l=0;l<i.length;l++)d.prepend(i[l].el);0===i.length?f.hide():f.css({display:"inline-block"})}var h=b;a.addClass("active");for(var i=0;i<h.length+1;i++)g();e.resize(function(){g()})}},parallax_bg:{selector:"body",active:0,init:function(){var c=a('div[role="main"]');c.find(".parallax_bg").length>0&&c.waitForImages(function(){b.skroller=skrollr.init({forceHeight:!1,easing:"outCubic",mobileCheck:function(){return!1}})})}},fixedPosition:{selector:".fixed-me",init:function(b){var d=this,f=b?b:a(d.selector),h=a("#wpadminbar"),i=h?h.outerHeight():0;g.mobile()?e.resize(c.debounce(function(){a(document.body).trigger("sticky_kit:detach")},30)):f.each(function(){var b=a(this),c=27+(a(".subheader.fixed").length?50:0);b.after('<div class="sticky-content-spacer"/>'),b.stick_in_parent({offset_top:c+i,spacer:".sticky-content-spacer"})})}},lazyLoad:{selector:"#content-container",init:function(){var c=this;a(c.selector);b.thb_lazyload=new LazyLoad({threshold:100,elements_selector:"img:not([src])",throttle:80,class_loading:"image-loading",class_loaded:"image-loaded",data_src:"original",data_srcset:"original-set",show_while_loading:!0})}},animation:{selector:"#content-container .animation",init:function(){var b=this,c=a(b.selector);b.control(c),e.scroll(function(){b.control(c)})},control:function(b){var c=-1;b.filter(":in-viewport").each(function(){var b=a(this);c++,setTimeout(function(){b.addClass("animate")},200*c)})}},toTop:{selector:"#scroll_totop",init:function(){var b=this,d=a(b.selector);d.on("click",function(){return TweenMax.to(e,1,{scrollTo:{y:0},ease:Quart.easeOut}),!1}),e.scroll(c.debounce(function(){b.control()},50))},control:function(){var b=this,c=a(b.selector);e.scrollTop()>300?TweenMax.to(c,.2,{autoAlpha:1,ease:Quart.easeOut}):TweenMax.to(c,.2,{autoAlpha:0,ease:Quart.easeOut})}},wpml:{selector:"#thb_language_selector_mobile",init:function(){var c=this,d=a(c.selector);d.on("change",function(){var c=a(this).val();return c&&(b.location=c),!1})}},reviews:{selector:"#respond",init:function(){var b=this,c=a(b.selector);c.on("click","p.stars a",function(){var b=a(this);setTimeout(function(){b.prevAll().addClass("active")},10)})}},updateCart:{selector:".quick_cart",init:function(){var c=this;a(c.selector);f.bind("added_to_cart",b.thb_lazyload.update)}},quantity:{selector:".quantity",init:function(){var b=this;a(b.selector);a("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").addClass("buttons_added").append('<input type="button" value="+" class="plus" />').prepend('<input type="button" value="-" class="minus" />'),d.on("click",".plus, .minus",function(){var b=a(this).closest(".quantity").find(".qty"),c=parseFloat(b.val()),d=parseFloat(b.attr("max")),e=parseFloat(b.attr("min")),f=b.attr("step");c&&""!==c&&"NaN"!==c||(c=0),""!==d&&"NaN"!==d||(d=""),""!==e&&"NaN"!==e||(e=0),"any"!==f&&""!==f&&void 0!==f&&"NaN"!==parseFloat(f)||(f=1),a(this).is(".plus")?d&&(d===c||c>d)?b.val(d):b.val(c+parseFloat(f)):e&&(e===c||c<e)?b.val(e):c>0&&b.val(c-parseFloat(f)),b.trigger("change")})}},themeSwitcher:{selector:"#theme-switcher",init:function(){var b=this,c=a(b.selector),d=c.find(".style-toggle");d.on("click",function(){return c.add(a(this)).toggleClass("active"),!1})}}};d.ready(function(){h.init()})}(jQuery,this,_);